# FileFlow

フォルダ構造を可視化し、一括処理（拡張子付与、エンコード検出など）を行ってZIP化するツール。
クライアントサイド(HTML/JS)のみで完結し、サーバー不要でオフライン(`file://`プロトコル含む)で安全に動作します。

## 主な機能

### 1. 閲覧モード
*   **ツリービュー**: 階層構造を維持して表示。フォルダはクリックで「遅延読み込み」して展開するため、巨大なフォルダでも一瞬で表示されます。
*   **リストビュー**: 全階層のファイルをフラットなリストとして表示します。

### 2. 高度なフィルタリング
*   `.gitignore` スタイルのGlobパターンでファイルをリアルタイムに絞り込み可能。
    *   例: `*.js` (JSファイルのみ), `!dist/` (distフォルダを除外), `src/**/*.ts`
*   フィルタリングされた結果のみに対して一括アクションやZIP圧縮が適用されます。

### 3. アクションモード
*   **Add Extension (.md / .txt)**:
    *   テキストファイル判定（拡張子除外 + Nullバイトチェック）を通過したファイルに対し、拡張子を自動付与してリネームします。
*   **Detect Info**:
    *   ファイルの先頭を読み込み、**文字コード** (UTF-8, SJIS, EUC-JP, ASCII) と **改行コード** (CRLF, LF, CR) を推測してバッジ表示します。

### 4. その他ユーティリティ
*   **統計情報**: 拡張子別のファイル数カウントや除外ファイル数を集計表示。
*   **ZIPダウンロード**: 表示されている（フィルタ後の）ファイル構造をそのままZIPとして出力。
*   **設定**: ドットファイル（`.git`等）の除外が可能。

## 技術仕様 (Architecture)

*   **Namespace Pattern**: `script.js` を機能ごとに分割 (`js/core`, `js/ui`, `js/actions`, `js/utils`) しつつ、ES Modulesを使用せず `file://` でのダブルクリック実行をサポート。
*   **Lazy Loading**: 階層の深いフォルダも、展開時に初めて読み込むことで初期表示パフォーマンスを最大化。
*   **Libraries**: `jszip` (アーカイブ作成用)

## セットアップ

外部ライブラリ(`jszip`)をローカルに配置するため、初回のみ以下を実行してください。

```bash
sh setup.sh
```
